{"remainingRequest":"/Users/atk420t/Desktop/fizzee_blog/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/atk420t/Desktop/fizzee_blog/node_modules/vuepress-theme-ktquez/components/Header/Search.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/atk420t/Desktop/fizzee_blog/node_modules/vuepress-theme-ktquez/components/Header/Search.vue","mtime":1555835683885},{"path":"/Users/atk420t/Desktop/fizzee_blog/node_modules/cache-loader/dist/cjs.js","mtime":1555767086794},{"path":"/Users/atk420t/Desktop/fizzee_blog/node_modules/vue-loader/lib/index.js","mtime":1555458748450}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport EventBus from '@theme/plugins/EventBus'\n\nexport default {\n  name: 'Search',\n\n  data () {\n    return {\n      show: false,\n      query: '',\n      focused: false,\n      focusIndex: 0\n    }\n  },\n\n  computed: {\n    getIcon () {\n      return this.show ? 'cancel' : 'search'\n    },\n\n    showSuggestions () {\n      return (\n        this.focused &&\n        this.suggestions &&\n        this.suggestions.length\n      )\n    },\n\n    suggestions () {\n      const query = this.query.trim().toLowerCase()\n      if (!query) {\n        return []\n      }\n\n      const { pages, themeConfig } = this.$site\n      const max = themeConfig.searchMaxSuggestions || 5\n      const localePath = this.$localePath\n      const matches = item => (\n        item.title &&\n        item.title.toLowerCase().indexOf(query) > -1\n      )\n      const res = []\n      for (let i = 0; i < pages.length; i++) {\n        if (res.length >= max) break\n        const p = pages[i]\n        // filter out results that do not match current locale\n        if (this.getPageLocalePath(p) !== localePath) {\n          continue\n        }\n        if (matches(p)) {\n          res.push(p)\n        } else if (p.headers) {\n          for (let j = 0; j < p.headers.length; j++) {\n            if (res.length >= max) break\n            const h = p.headers[j]\n            if (matches(h)) {\n              res.push(Object.assign({}, p, {\n                path: p.path + '#' + h.slug,\n                header: h\n              }))\n            }\n          }\n        }\n      }\n      return res\n    }\n  },\n\n  created () {\n    EventBus.$on('show_search', data => {\n      this.show = data\n    })\n    EventBus.$on('close_overlay', data => {\n      this.show = data\n    })\n  },\n\n  methods: {\n    toggle () {\n      this.show = !this.show        \n      if (this.show) this.setFocus()\n      EventBus.$emit('show_search', this.show)\n      EventBus.$emit('show_overlay', this.show)\n    },\n\n    setFocus () {\n      setTimeout(() => {\n        this.reset()\n        this.$refs.inputSearch.focus()\n      }, 400)\n    },\n\n    reset () {\n      this.query = ''\n      this.$refs.inputSearch.value = ''\n    },\n\n    getPageLocalePath (page) {\n      for (const localePath in this.$site.locales || {}) {\n        if (localePath !== '/' && page.path.indexOf(localePath) === 0) {\n          return localePath\n        }\n      }\n      return '/'\n    }\n  }\n}\n",{"version":3,"sources":["Search.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkDA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Search.vue","sourceRoot":"node_modules/vuepress-theme-ktquez/components/Header","sourcesContent":["<template>\r\n  <div class=\"search\">\r\n    <transition name=\"bottom-top\">\r\n      <div class=\"search-box\" v-if=\"show\" :class=\"{ 'search-box--show': show }\">\r\n        <label for=\"query\">\r\n          <input \r\n            id=\"query\" \r\n            type=\"text\"\r\n            ref=\"inputSearch\"\r\n            class=\"search-box__input reset-input\"\r\n            :aria-label=\"$t('aria_label_search')\"\r\n            :placeholder=\"$t('ph_search')\"\r\n            autocomplete=\"off\"\r\n            spellcheck=\"false\"\r\n            @input=\"query = $event.target.value\" />\r\n        </label>\r\n       <nav class=\"suggestions\" v-if=\"query\">\r\n          <ul class=\"suggestions__list\">\r\n            <li\r\n              class=\"suggestion__item\"\r\n              v-for=\"(s, i) in suggestions\"\r\n              v-if=\"suggestions.length\"\r\n              :key=\"`sug-${i}-${s.key}`\">\r\n              <router-link @click.native=\"toggle\" class=\"suggestion__link\" :to=\"s.path\">\r\n                <div :class=\"`suggestion__badge suggestion__badge--${s.frontmatter.view}`\">\r\n                    {{ $t(s.frontmatter.view) }} <br>\r\n                    <span class=\"icon\">arrow</span>\r\n                </div>\r\n                <div class=\"page-title\">\r\n                  <span>{{ s.title || s.path }}</span>\r\n                  <span v-if=\"s.header\" class=\"header\">\r\n                    <span class=\"meta-text meta-text--primary\">=> {{ s.header.title }}</span>  \r\n                  </span>\r\n                </div>\r\n              </router-link>\r\n            </li>\r\n            <li v-if=\"!suggestions.length && query\" class=\"suggestion__item\">\r\n              <div class=\"suggestion__link\">\r\n                <h2>{{ $t('no_search_results') }}</h2>  \r\n              </div>\r\n            </li>\r\n          </ul>\r\n       </nav>\r\n      </div>\r\n    </transition>\r\n    <span class=\"icon search__icon\" v-html=\"getIcon\" @click=\"toggle\"></span>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import EventBus from '@theme/plugins/EventBus'\r\n\r\n  export default {\r\n    name: 'Search',\r\n\r\n    data () {\r\n      return {\r\n        show: false,\r\n        query: '',\r\n        focused: false,\r\n        focusIndex: 0\r\n      }\r\n    },\r\n\r\n    computed: {\r\n      getIcon () {\r\n        return this.show ? 'cancel' : 'search'\r\n      },\r\n\r\n      showSuggestions () {\r\n        return (\r\n          this.focused &&\r\n          this.suggestions &&\r\n          this.suggestions.length\r\n        )\r\n      },\r\n\r\n      suggestions () {\r\n        const query = this.query.trim().toLowerCase()\r\n        if (!query) {\r\n          return []\r\n        }\r\n\r\n        const { pages, themeConfig } = this.$site\r\n        const max = themeConfig.searchMaxSuggestions || 5\r\n        const localePath = this.$localePath\r\n        const matches = item => (\r\n          item.title &&\r\n          item.title.toLowerCase().indexOf(query) > -1\r\n        )\r\n        const res = []\r\n        for (let i = 0; i < pages.length; i++) {\r\n          if (res.length >= max) break\r\n          const p = pages[i]\r\n          // filter out results that do not match current locale\r\n          if (this.getPageLocalePath(p) !== localePath) {\r\n            continue\r\n          }\r\n          if (matches(p)) {\r\n            res.push(p)\r\n          } else if (p.headers) {\r\n            for (let j = 0; j < p.headers.length; j++) {\r\n              if (res.length >= max) break\r\n              const h = p.headers[j]\r\n              if (matches(h)) {\r\n                res.push(Object.assign({}, p, {\r\n                  path: p.path + '#' + h.slug,\r\n                  header: h\r\n                }))\r\n              }\r\n            }\r\n          }\r\n        }\r\n        return res\r\n      }\r\n    },\r\n\r\n    created () {\r\n      EventBus.$on('show_search', data => {\r\n        this.show = data\r\n      })\r\n      EventBus.$on('close_overlay', data => {\r\n        this.show = data\r\n      })\r\n    },\r\n\r\n    methods: {\r\n      toggle () {\r\n        this.show = !this.show        \r\n        if (this.show) this.setFocus()\r\n        EventBus.$emit('show_search', this.show)\r\n        EventBus.$emit('show_overlay', this.show)\r\n      },\r\n\r\n      setFocus () {\r\n        setTimeout(() => {\r\n          this.reset()\r\n          this.$refs.inputSearch.focus()\r\n        }, 400)\r\n      },\r\n\r\n      reset () {\r\n        this.query = ''\r\n        this.$refs.inputSearch.value = ''\r\n      },\r\n\r\n      getPageLocalePath (page) {\r\n        for (const localePath in this.$site.locales || {}) {\r\n          if (localePath !== '/' && page.path.indexOf(localePath) === 0) {\r\n            return localePath\r\n          }\r\n        }\r\n        return '/'\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"stylus\">\r\n@import '~@theme/styles/config.styl'\r\n\r\n.search\r\n  position: relative\r\n\r\n  &__icon\r\n    position: relative\r\n    float: right\r\n    padding: 10px\r\n    cursor: pointer\r\n\r\n    &:hover\r\n      color: $primaryColor\r\n\r\n.search-box\r\n  position: absolute\r\n  top: 74px\r\n  right: 0px\r\n  z-index: 10\r\n  width: 88vw  \r\n  max-width: 400px\r\n  padding: 20px\r\n  padding-bottom: 40px\r\n  background-color: white\r\n  overflow: auto\r\n  border-radius: 0 0 10px 10px\r\n\r\n  &__input.reset-input\r\n    position: relative\r\n    width: 100%\r\n    padding-top: 10px\r\n    padding-bottom: 10px\r\n    color: $textColor\r\n    font-family: inherit\r\n    font-size: $title2\r\n    outline: none\r\n    border-bottom: 1px solid #ccc\r\n\r\n    &:focus\r\n      border-top-color: $textLightColor\r\n      border-bottom-color: $textLightColor\r\n\r\n    &::placeholder\r\n      color: $textLightColor\r\n\r\n  &--show\r\n    .search-box__input\r\n      opacity: 1\r\n      visibility: visible\r\n\r\n    .suggestions\r\n      position: relative\r\n      margin-top: 20px\r\n      width: 100%\r\n      background-color: #fff\r\n      z-index: 10\r\n\r\n      @media (max-width: $mobile)\r\n        padding-left: 10px\r\n        padding-right: 10px\r\n\r\n    .suggestion\r\n      &__badge\r\n        width: 66px\r\n        height: 30px\r\n        height: max-content\r\n        margin-right: 10px\r\n        text-align: center\r\n        display: inline-block\r\n        padding: 6px 4px\r\n        color: $primaryColor\r\n        border-radius: 6px\r\n        font-size: 8px\r\n        letter-spacing: .7px\r\n        text-transform: uppercase\r\n        background-color: #f2f2f2\r\n\r\n        &--post\r\n          color: $color6\r\n\r\n        &--author\r\n          color: $color7\r\n\r\n        &--page\r\n          color: $color2\r\n\r\n        @media (max-width: $mobile)\r\n          display: block\r\n          margin-bottom: 10px\r\n\r\n      &__link\r\n        line-height: 1.4\r\n        padding: 1em .5em\r\n        border-radius: 4px\r\n        cursor: pointer\r\n        white-space: normal\r\n        color: lighten($textColor, 35%)\r\n        display: flex\r\n\r\n        .page-title\r\n          font-weight: 600\r\n\r\n          span\r\n            margin-top: 4px\r\n            display: block\r\n            margin: 0\r\n\r\n        .header\r\n          font-size: 0.9em\r\n          margin-left: 0.25em\r\n          display: inline\r\n\r\n        &:hover\r\n          background-color: #f3f4f5\r\n          color: $accentColor\r\n\r\n</style>"]}]}